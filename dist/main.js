(()=>{"use strict";(function(e){const t=document.getElementById("timer-hours"),n=document.getElementById("timer-minutes"),o=document.getElementById("timer-seconds"),c=()=>{const e=(()=>{const e=(new Date("25 jul 2021").getTime()-(new Date).getTime())/1e3;return{seconds:Math.floor(e%60),minutes:Math.floor(e/60%60),hours:Math.floor(e/3600),timeRemaining:e}})();if(e.timeRemaining<=0)return t.textContent="00",n.textContent="00",o.textContent="00",!1;if(e.timeRemaining>0){for(let t in e)e[t]<10&&(e[t]="0"+e[t]);t.textContent=e.hours,n.textContent=e.minutes,o.textContent=e.seconds}};let l;!1!==c()?l=setInterval(c,1e3):clearInterval(l)})(),function(){const e=document.querySelector(".menu"),t=document.querySelector("menu");function n(){t.classList.toggle("active-menu")}e.addEventListener("click",n),t.addEventListener("click",(function(e){let t=e.target;t.classList.contains("close-btn")?n():(t=t.closest("ul>li>a"),t&&n())}))}(),function(){const e=document.querySelector(".popup"),t=document.querySelectorAll(".popup-btn"),n=e.querySelector(".popup-content");let o=0;function c(){let e=requestAnimationFrame(c);o++,o<50?n.style.top=o+200+"px":(o=0,cancelAnimationFrame(e))}t.forEach((function(t){t.addEventListener("click",(function(){e.style.display="block",document.documentElement.clientWidth>768&&c()}))})),e.addEventListener("click",(function(t){let n=t.target;n.classList.contains("popup-close")?e.style.display="none":(n=n.closest(".popup-content"),n||(e.style.display="none"))}))}(),function(){const e=document.querySelector(".service-header"),t=e.querySelectorAll(".service-header-tab"),n=document.querySelectorAll(".service-tab");e.addEventListener("click",(function(e){let o=e.target;o=o.closest(".service-header-tab"),o&&t.forEach((function(e,c){e===o&&function(e){for(let o=0;o<n.length;o++)e===o?(t[o].classList.add("active"),n[o].classList.remove("d-none")):(t[o].classList.remove("active"),n[o].classList.add("d-none"))}(c)}))}))}(),function(){const e=document.querySelectorAll(".portfolio-item"),t=document.querySelector(".portfolio-dots"),n=document.querySelector(".portfolio-content");let o,c=0;function l(e,t,n){e[t].classList.remove(n)}function a(e,t,n){e[t].classList.add(n)}const u=function(e){let n=document.createElement("li");n.classList.add("dot"),n.classList.add("dot-active"),t.append(n);for(let o=1;o<e;o++)n=document.createElement("li"),n.classList.add("dot"),t.append(n);return document.querySelectorAll(".dot")}(e.length);function r(){l(e,c,"portfolio-item-active"),l(u,c,"dot-active"),c++,c>=e.length&&(c=0),a(e,c,"portfolio-item-active"),a(u,c,"dot-active")}function i(e=3e3){o=setInterval(r,e)}n.addEventListener("click",(function(t){t.preventDefault();let n=t.target;n.matches(".portfolio-btn, .dot")&&(l(e,c,"portfolio-item-active"),l(u,c,"dot-active"),n.matches("#arrow-right")?c++:n.matches("#arrow-left")?c--:n.matches(".dot")&&u.forEach((function(e,t){e===n&&(c=t)})),c>=e.length&&(c=0),c<0&&(c=e.length-1),a(e,c,"portfolio-item-active"),a(u,c,"dot-active"))})),n.addEventListener("mouseover",(function(e){(e.target.matches(".portfolio-btn")||e.target.matches(".dot"))&&clearInterval(o)})),n.addEventListener("mouseout",(function(e){(e.target.matches(".portfolio-btn")||e.target.matches(".dot"))&&i(2e3)})),i(2e3)}(),document.querySelectorAll(".command__photo").forEach((function(e){let t=e.src;e.addEventListener("mouseenter",(function(){"IMG"===e.tagName&&(e.src=e.dataset.img)})),e.addEventListener("mouseleave",(function(){e.src=t}))})),function(){const e=document.querySelector(".calc-block"),t=document.querySelector(".calc-type"),n=document.querySelector(".calc-square"),o=document.querySelector(".calc-day"),c=document.querySelector(".calc-count"),l=document.getElementById("total");e.querySelectorAll("input").forEach((function(e){e.addEventListener("input",(function(){e.value=e.value.replace(/\D/,"")}))})),e.addEventListener("change",(function(e){const a=e.target;(a.matches("select")||a.matches("input"))&&function(e){let a=0,u=1,r=1;const i=t.options[t.selectedIndex].value,s=+n.value;c.value>1&&(u+=(c.value-1)/10),o.value&&o.value<5?r*=2:o.value&&o.value<10&&(r*=1.5),i&&s&&(a=100*i*s*u*r),l.textContent=parseInt(a)}()}))}(),function(){const e=document.querySelectorAll('input[placeholder="Ваше имя"]'),t=document.querySelectorAll('input[placeholder="Ваше сообщение"]'),n=document.querySelectorAll('input[placeholder="E-mail"]'),o=document.querySelectorAll('input[placeholder="Номер телефона"]');function c(e){e.target.matches('input[placeholder="Ваше имя"]')&&(e.target.value=e.target.value[0].toUpperCase()+e.target.value.substr(1).toLowerCase()),e.target.value=e.target.value.replace(/-+/gi,"-").trim(),e.target.value=e.target.value.replace(/\s+/gi," ").trim()}e.forEach((function(e){e.addEventListener("input",(function(){e.value=e.value.replace(/[^А-яа-яЁё-\s]/gi,"")})),e.addEventListener("focusout",c)})),t.forEach((function(e){e.addEventListener("input",(function(){e.value=e.value.replace(/[^А-Яа-я\- ]/g,"")})),e.addEventListener("focusout",c)})),n.forEach((function(e){e.addEventListener("input",(function(){e.value=e.value.replace(/[^A-Za-z\-@_'`!\.\*]/g,"")})),e.addEventListener("focusout",c)})),o.forEach((function(e){e.addEventListener("input",(function(){e.value=e.value.replace(/[^0-9\+]/g,"")})),e.addEventListener("focusout",c)}));const l=document.getElementById("form1"),a=document.getElementById("form2"),u=document.getElementById("form3"),r=document.createElement("div");function i(e,t){e.preventDefault(),t.appendChild(r),r.textContent="Загрузка";const n=new FormData(t);let o={};n.forEach((function(e,t){o[t]=e})),document.querySelectorAll("input").forEach((function(e){e.value=""})),function(e){return fetch("./server.php",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})}(o).then((function(e){if(200!==e.status)throw new Error("status network not 200.");console.log(e),r.textContent="Спасибо! Мы скоро с вами свяжемся"})).catch((function(e){r.textContent="Что то пошло не так...",console.error(e)}))}r.style.cssText="\n        font-size: 2rem;\n        color: red;\n    ",l.addEventListener("submit",(function(e){e.preventDefault(),l.appendChild(r);let t=l.querySelectorAll("input");t[0].value.length<2||t[1].value.length<3||t[2].value.length>12||t[2].value.length<8?r.textContent="Введите корректные данные!!!":i(e,l)})),a.addEventListener("submit",(function(e){e.preventDefault(),a.appendChild(r);let t=a.querySelectorAll("input");t[0].value.length<2||t[1].value.length<3||t[2].value.length<8||t[2].value.length>12||t[3].value.length<10?r.textContent="Введите корректные данные!!!":i(e,a)})),u.addEventListener("submit",(function(e){e.preventDefault(),u.appendChild(r);let t=u.querySelectorAll("input");t[0].value.length<2||t[1].value.length<8||t[1].value.length>12||t[2].value.length<3?r.textContent="Введите корректные данные!!!":i(e,u)}))}()})();